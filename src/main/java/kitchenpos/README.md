## 개요

가게를 위한 주문 및 메뉴 관리 시스템를 구축한다

## 용어 정의

| 용어                                      | 설명                                                                                                                                                                                                               | 관련 용어                                                                                                                    |
|-----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| 메뉴 (Menu)                               | 음식점에서 판매하는 음식이나 서비스의 항목을 의미한다. 메뉴는 이름, 가격, 관련 상품 정보, 그리고 전시 여부와 같은 특성을 포함한다.                                                                                                                                     | 메뉴명(MenuName) <br> 가격(MenuPrice) <br> 메뉴등록상품(MenuProduct) <br> 전시여부(isDisplayed) <br> 전시 활성화(Display) <br> 전시 비활성화(Hide) |
| 메뉴그룹 (MenuGroup)                        | 메뉴들을 그룹화하는 카테고리를 의미한다. 예를 들어, '디저트', '메인 요리', '사이드' 등과 같이 여러 메뉴들을 분류할 때 사용된다.                                                                                                                                    | 메뉴그룹이름(MenuGroupName)                                                                                                    |
| 주문 (Order)                              | 고객이 선택한 메뉴나 상품에 대한 요청을 의미한다. 주문은 주문 타입, 주문 상태, 주문 시간, 주문 아이템, 배달 주소, 주문 테이블 등의 정보를 포함할 수 있다.                                                                                                                     | 주문이름(OrderName) <br> 주문시간 (OrderDateTime) <br> 주문상태(OrderStatus) <br> 주문타입(OrderType) <br> 주문배달주소(deliveryAddress)       |
| 주문 상태(Order Status), 주문 타입 (Order Type) | 주문은 하나의 주문상태와 주문타입을 가진다. <br> - 주문 상태 <br> (`대기중(Waiting), 승인됨(Accepted), 제공됨(Served), 배달중(Deliving), 배달됨(Delivered), 완료됨(Completed)`) <br> <br> - 주문타입 <br> (`배달(Delivery), 포장(Take_Out), 매장식사(Eat_In)` )을 가진다. |
| 주문아이템 (OrderLineItem)                   | 특정 주문에 속하는 개별 메뉴 항목을 의미한다. 주문 아이템은 선택된 메뉴, 순서번호, 가격, 재고 등의 정보를 포함한다.                                                                                                                                             | 재고(quantity) <br> 순서번호(Sequence) <br> 가격 (Price)                                                                         |
| 주문 테이블 (OrderTable)                     | 고객이 앉아 음식을 먹을 수 있는 테이블을 의미한다. 테이블은 점유 여부, 최대 손님 수 등의 정보를 가질 수 있다.                                                                                                                                                | 테이블 점유(Sit) <br> 테이블 초기화(Clear) <br> 점유여부(Occupied) <br> 손님수(numberOfGuests)                                             |
| 상품 (Product)                            | 음식, 음료, 서비스와 같이 주문을 할 수 있는 상품 정보를 의미한다. 이름, 가격정보를 가진다.                                                                                                                                                           | 상품명(ProductName), 상품가격(ProductPrice)                                                                                     |

기타 용어들
- 욕설 ( Profanity ) : 이름에 포함되어서 안되는 비속어를 의미한다.
- 배달대행 ( Kitchenriders ) : 배달대행을 받아주는 서비스를 의미한다.
- 배달시작 (startDelivery) : 배달을 시작하는 것을 의미한다.
- 배달완료 (completeDelivery) : 배달을 완료하는 것을 의미한다. 주문 완료와는 별개이다. `용어 정리하다보니 배달에 관련된 도메인이 분리되면 좋을지도..?`
- 

## 핵심 기능

| NO | 내용                                        |          |
|----|-------------------------------------------|----------|
| 1  | 주문테이블, 메뉴그룹, 메뉴, 상품 정보들을 관리하고 확인할 수 있다.   |          |
| 2  | 서비스가 진행됨에 따라 변화하는 주문의 진행상황과 타입을 확인할 수 있다. |          |
| 3  | 포장 및 배달 서비스를 연동을 제공한다.                    |          |

## 상세 요구사항

- ### 메뉴 그룹 (**Menu Group**)
    - [x] 메뉴를 등록하기 위해 메뉴그룹을 생성할 수 있다.
    - [x] 메뉴 그룹의 이름은 공백이거나 빈 값일 수 없다.
    - [x] 전체 메뉴 그룹을 리스트로 조회할 수 있다.


- ### 메뉴 (**Menu**)
    - [x] 모든 메뉴를 리스트로 조회할 수 있다.
    - [x] 메뉴를 생성하고 수정할 수 있다.
    - [x] 메뉴는 `필수`가격, `필수`이름, `필수`메뉴그룹, `필수`전시여부, `옵션`메뉴상품 리스트를 가진다
        - 메뉴 전시여부
            - [x] 메뉴의 전시여부는 언제든지 수정할 수 있다.
            - [x] 메뉴를 전시하려면 (상품의 가격 * 재고)의 합이 메뉴의 가격을 초과하지 않아야 한다.
        - 메뉴 그룹
            - [x] 메뉴는 반드시 메뉴 그룹에 속해있어야한다.
            - [x] 메뉴 그룹은 삭제할 수 없다.
        - 메뉴 가격
            - [x] 메뉴의 가격은 언제든지 변경할 수 있다.
            - [x] 메뉴의 가격은 반드시 0원 이상이여야한다.
            - [x] 메뉴의 가격은 0원 일 수 있다
        - 메뉴 이름
            - [x] 메뉴의 이름은 빈 값이거나 공백일 수 없다.
            - [x] 메뉴의 이름은 욕설을 포함할 수 없다. [참조1](#참조)

        - 메뉴 상품
            - [x] 메뉴상품은 상품정보와 재고 정보를 포함해야 한다.
            - [x] 등록할 때 등록일 기준 존재하는 상품을 선택하여 메뉴상품으로 등록할 수 있다.
            - [x] 등록할 때 메뉴 상품의 재고는 0을 초과해야한다. 즉 0일 수 없다.
            - [x] 메뉴안에 포함된 모든 (상품의 가격 * 재고)의 합은 메뉴의 가격을 초과하지 않아야 한다.


- ### 주문 (**Order**)
    - [x] 모든 주문을 리스트로 조회할 수 있다
    - [x] 주문을 생성할 수 있다
    - [x] 주문은 `필수`주문타입, `필수`주문상태, `필수`주문시간, `필수`주문아이템, `필수`배달주소, `필수`주문테이블을 가진다.
        - 주문 타입
            - [x] 주문은 `(배달, 포장, 매장식사)` 중 하나의 주문 타입을 가지고 있다
        - 주문 상태
            - [x] 모든 주문은 `( 대기중, 승인됨, 제공됨, 배달중, 배달됨, 완료됨 )` 중 하나의 상태를 가진다.
            - [x] 주문을 처음 만들면 `(대기중)` 상태로 생성된다.
            - [x] 주문을 승인하면, `(승인됨)` 상태로 변경된다.
            - [x] 배달 주문타입을 승인하면 배달서버에 배송 요청을 전달한다.
            - [x] 승인됨 상태의 주문이 제공되면, `(제공됨)` 상태로 변경된다. 제공은 반드시 승인됨 상태일 때만 가능하다.
            - [x] `(배달타입, 제공됨)` 주문만 배달을 시작할 수 있다.
            - [x] `(배달됨)` 주문상태만 배달을 완료할 수 있다.
            - [x] `(배달타입, 배달됨)` 주문과 `(포장타입, 제공됨) 또는 (매장식사타입, 제공됨)`이 아닌 경우에만 주문을 완료할 수 있다.

        - 주문 아이템
            - [x] 한 주문은 여러 개의 주문아이템을 가질 수 있다.
            - [x] 주문 아이템은 메뉴와 재고 정보를 가지고 있다.
            - [x] 주문 아이템은 반드시 등록되어있는 전시상태인 메뉴만을 선택할 수 있다.
            - [x] `(매장식사)`인 경우, 모든 주문아이템이 재고는 0 초과이어야 한다.
            - [x] `(매장식사타입)` 인 경우, 주문테이블이 사용중이어선 안된다.
            - [x] 주문 아이템의 가격은 해당 메뉴의 가격과 항상 동일해야한다.
        - 배송 주소
            - [x] `(배달타입)` 인 경우, 주문을 생성할 때 배달 주소가 반드시 있어야한다.
        - 주문 테이블
            - [x] `(매장식사타입)` 인 경우, 주문테이블이 점유된 상태가 아니어야 주문을 생성할 수 있다.
            - [x] 주문이 완료되면 주문테이블은 점유하지 않은 상태로 초기화된다.

- ### 주문 테이블 (**Order Table**)
    - [x] 주문 테이블을 생성할 수 있다. 생성된 주문 테이블의 손님 수는 반드시 0 이상이어야 한다
    - [x] 점유되지 않은 빈 테이블만 점유할 수 있다.
    - [x] 점유하고 있는 테이블만 손님 수를 변경할 수 있다. 이 때 변경할 손님 수는 0 이상이어야 한다.
    - [x] 점유하지 있는 테이블만 손님수를 변경할 수 없다.
    - [x] 주문이 완료된 상태여야만 주문테이블을 초기화 할 수 있다
    - [x] 주문이 완료되지 않은 상태에서는 주문테이블을 초기화할 수 없다.
    - [x] 주문 테이블에 앉은 손님 수를 변경할 수 있다.
    - [x] 주문 테이블의 변경하는 손님 수는 0 이상이어야 한다.
    - [x] 모든 주문 테이블을 리스트로 조회할 수 있다.

- ### 상품 (**Product**)
    - [x] 상품을 생성할 수 있다.
    - [x] 상품의 가격은 반드시 0을 초과해야 한다.
    - [x] 상품 이름에는 욕설이 들어갈 수 없다.
    - [x] 상품의 가격을 변경할 수 있다. 해당 상품이 포함된 메뉴들에서 (상품 가격*재고)가 메뉴가격을 초과한다면, 해당 메뉴 전시를 비활성화 한다.
    - [x] 모든 상품을 리스트로 조회 할 수 있다.

# 참조

한국어 욕설 검증 API는 아래 사이트에서 확인할 수 있다. (https://github.com/dl0312/open-apis-korea)
